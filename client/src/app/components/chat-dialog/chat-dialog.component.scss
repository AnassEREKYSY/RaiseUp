:host { display:block; }
.chat-wrapper{
  width:min(760px, 96vw);
  background:var(--card);
  border:1px solid var(--border);
  border-radius:20px;
  box-shadow:0 16px 40px rgba(16,24,40,.14);
  overflow:hidden;
}
.chat-header{
  display:grid; grid-template-columns:44px 1fr 44px; align-items:center;
  padding:12px; border-bottom:1px solid var(--border);
  background:linear-gradient(180deg,#fff 0%, #f7f8ff 100%);
}
.icon-btn{ width:40px;height:40px;border:none;border-radius:12px;cursor:pointer;background:#fff;
  display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(0,0,0,.06); }
.icon-btn.ghost{ background:transparent; box-shadow:none; }
.icon-btn:hover{ background:#f3f4f6; }
.meta{ display:flex; align-items:center; gap:12px; justify-self:flex-start; }
.meta .avatar{ border-radius:50%; object-fit:cover; box-shadow:0 2px 10px rgba(0,0,0,.08); }
.meta .name{ margin:0; font-size:16px; color:var(--text); line-height:1.1; }
.meta .subtitle{ color:var(--muted); font-size:12px; }

.messages-scroll{
  height:460px; overflow-y:auto; overflow-x:hidden; padding:18px;
  background:
    radial-gradient(900px 400px at -5% -10%, #eef1ff 0%, transparent 45%),
    radial-gradient(900px 400px at 105% -10%, #f5eaff 0%, transparent 45%),
    var(--bg);
}
.state{ height:100px; display:flex; flex-direction:column; gap:6px; align-items:center; justify-content:center; }
.state.muted{ color:var(--muted); } .state.error{ color:#b42318; } .state.empty{ color:var(--muted); }
.state mat-icon{ font-size:28px; }

.msg{ width:100%; display:flex; margin-bottom:12px; }
.msg .bubble{
  max-width:78%; padding:10px 12px; border-radius:14px 14px 14px 6px;
  background:#ffffff; border:1px solid var(--border); box-shadow:0 6px 20px rgba(16,24,40,.08);
}
.msg .content{ margin:0; color:var(--text); line-height:1.55; font-size:14px; word-break:break-word; }
.msg .time{ display:block; font-size:11px; color:var(--muted); margin-top:6px; text-align:right; }
.msg.me{ justify-content:flex-end; }
.msg.me .bubble{ background:#e9f8f0; border-color:#cdeede; border-radius:14px 14px 6px 14px; }

.composer{ display:flex; gap:10px; padding:12px; border-top:1px solid var(--border); background:#fff; }
.composer input{
  flex:1; border:1px solid var(--border); border-radius:14px; padding:12px 14px; outline:none;
  font-size:14px; background:#fff; min-width:0;
}
.composer input:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(79,70,229,.08); }
.composer button{
  border:none; background:var(--primary); color:#fff; padding:0 14px; border-radius:12px;
  display:flex; align-items:center; justify-content:center; min-width:44px; height:44px;
  box-shadow:0 10px 24px rgba(79,70,229,.25);
}
.composer button:disabled{ opacity:.6; cursor:not-allowed; box-shadow:none; }
.composer button:hover:enabled{ filter:brightness(0.95); }
